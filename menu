#include<stdio.h>
#include<string.h>
#include<math.h>

struct jugadores{
	char usuario[100];
	int matricula;
};

int main(){
   struct jugadores jugadores[200];
   FILE*pfichero;
   int i=0,contador=0, a, buscamatricula;
   char b;

   pfichero=fopen("UsuariosTresEnRaya.txt","w");


   if(pfichero==NULL){
      printf("Ha sucedido un error, por favor vuelva a abrir el programa\n");
      return 0;}
    
   printf("Bienvenido al tres en raya\n");

   printf("Pulsa 1 si es nuevo usuario\n o pulse 2 si desea iniciar sesion\n");
   scanf("%d", &a);

   switch(a){

      case 1:
      printf("Bienvenido al juego, vamos a registrarle para poder disfrutar del juego\n");
      pfichero=fopen("UsuariosTresEnRaya.txt","w");


      if(pfichero==NULL){
         printf("Ha sucedido un error, por favor vuelva a abrir el programa\n");
         return 0;}
         
    do{printf("Introduzca el nombre de usuario\n");
       fflush(stdin);
       gets(jugadores[i].usuario);
       printf("Introduzca su matricula\n");
       scanf("%d", &jugadores[i].matricula);
       
       printf("Desea registrar otro usuario, pulso s si lo desea y n si no\n");
       fflush(stdin);
       scanf("%c", &b);
       i++;}
       
      
	  }
      
      while(b=='s');
      /*while(fscanf(pfichero, "%s %d", &jugadores[i].usuario, &jugadores[i].matricula)!=EOF){
      	strcpy
	  }*/
	  fclose(pfichero);
      break;
      
      case 2:
      	printf("Hola de nuevo, introduzca su matricula y estar√°s listo para jugar");
      	pfichero=fopen("UsuariosTresEnRaya.txt","r");
      	i=0;
      	do{
      		printf("Introduzca su numero de matricula");
      		scanf("%d", &buscamatricula);
      		while
      		
		  }
      
}
}




fscanf(pfichero, "%s %d", &jugadores[i].usuario, &jugadores[i].matricula)
/*do{
   printf("Usuario %d: Introduzca la letra 'c' para crear un nuevo usuario o la letra 't' para iniciar sesio sn con uno ya existente\n", i+1);
   fflush(stdin);
   scanf("%c",&a);
if(a== 't'){
//goto inisesion;
}
  printf("Introduzca el nombre del usuario %d (no se admiten espacios)\n",i+1);
  fflush(stdin);
scanf("%c",&nombre);
printf("Introduzca el numero de matricula del usuario %d:\n",i+1);
fflush(stdin);
scanf("%d",&matricula);
fprintf(pfichero,"Usuario: %c \nMatricula: %d");
printf("Para salir del menu de registro pulse s o cualquier otra letra para continuar con los registros:\n");
fflush(stdin);
scanf("%c", &b);
if(b=='s'){
	break;
}
i++;
}while(a='c');
fclose(pfichero);*/
